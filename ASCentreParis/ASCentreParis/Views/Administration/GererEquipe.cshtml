@model Models.ObjGestionEquipes


<div class="noMarginPaddingVertical" id="form-container">
    <div class="modal-header noMarginPaddingVertical">
        <button type="button" class="close" onclick="fermerModalAdministration();" aria-hidden="true">&times;   </button>
        <h3 class="modal-title noMarginPaddingVertical" style="color:white;" id="imageModalLabel">@Model.TitrePage</h3>
    </div>

    <div class="container-fluid modal-body noMarginPaddingVertical">

        <div class="noMarginPaddingVertical col-xs-12">
            @using (Html.BeginForm("GererEquipePost", "Administration", FormMethod.Post, new { id = "MyForm", enctype = "multipart/form-data" }))
            {
                <h4>Informations principales</h4>
                <div class="col-xs-6 col-xs-offset-3">
                    <p class="ValidationKO" id="BlocMessageKO">@Model.messageKO</p>
                    @Html.ValidationSummary("")
                </div>
                    <div class="ValidationOK col-xs-6 col-xs-offset-3">
                        <p>@Model.messageOK</p>
                    </div>


                    @Html.HiddenFor(model => model.Equipe.Id, new { @id = "tbxId", @class = "form" })
                    @Html.HiddenFor(model => model.ModePage, new { @id = "HiddenForModePage", @class = "form" })
                    @Html.HiddenFor(model => model.TitrePage, new { @id = "HiddenForTitrePage", @class = "form" })
                    @Html.HiddenFor(model => model.isActionOK, new { @id = "HiddenForisActionOK", @class = "form" })
                    @Html.HiddenFor(model => model.isCreationOK, new { @id = "HiddenForisCreationOK", @class = "form" })
                    @Html.HiddenFor(model => model.LibelleBoutonSauvegarde, new { @id = "HiddenForLibelleBoutonSauvegarde", @class = "form" })
                    @Html.HiddenFor(model => model.Equipe.CheminCalendrier, new { @id = "HiddenForCheminFichierCalendrier", @class = "form" })
                    @Html.HiddenFor(model => model.Equipe.CheminPhoto, new { @id = "HiddenForCheminFichierPhoto", @class = "form" })
                    @Html.HiddenFor(model => model.Equipe.CheminFicheEntrainement, new { @id = "HiddenForCheminFichierFicheEntrainement", @class = "form" })
                    @Html.HiddenFor(model => model.Equipe.DateCreation, new { @id = "HiddenForDateCreation", @class = "form" })
                    @Html.HiddenFor(model => model.IndicFichierCalendrier, new { @id = "HiddenForIndicFichierCalendrier", @class = "form indic" })
                    @Html.HiddenFor(model => model.IndicFichierPhoto, new { @id = "HiddenForIndicFichierPhoto", @class = "form indic" })
                    @Html.HiddenFor(model => model.IndicFichierFicheEntrainement, new { @id = "HiddenForIndicFichierFicheEntrainement", @class = "form indic" })
                    @Html.HiddenFor(model => model.IndicSuppressionFichierCalendrier, new { @id = "HiddenForIndicSuppressionFichierCalendrier", @class = "form indicSuppression" })
                    @Html.HiddenFor(model => model.IndicSuppressionFichierPhoto, new { @id = "HiddenForIndicSuppressionFichierPhoto", @class = "form indicSuppression" })
                    @Html.HiddenFor(model => model.IndicSuppressionFichierFicheEntrainement, new { @id = "HiddenForIndicSuppressionFichierFicheEntrainement", @class = "form indicSuppression" })

                    <div class="col-xs-12  row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Libell√© (*)</div>
                        <div class="col-xs-8">@Html.TextBoxFor(model => model.Equipe.Libelle, new { @id = "tbxLibelle", @style = "width:100%;", @class = "form" }) </div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Commentaire</div>
                        <div class="col-xs-8">@Html.TextAreaFor(model => model.Equipe.Commentaire, new { @id = "tbxCommentaire", @style = "width:100%;", @rows = "5", @class = "form" })</div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Entrainements</div>
                        <div class="col-xs-8">@Html.TextAreaFor(model => model.Equipe.InformationsEntrainements, new { @id = "tbxInformationEntrainements", @style = "width:100%;", @rows = "4", @class = "form" })</div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Responsable(s)</div>
                        <div class="col-xs-8">@Html.TextAreaFor(model => model.Equipe.InformationsResponsable, new { @id = "tbxInformationResponsable", @style = "width:100%;", @rows = "3", @class = "form" })</div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Division</div>
                        <div class="col-xs-8">@Html.TextAreaFor(model => model.Equipe.InformationsDivision, new { @id = "tbxInformationDivision", @style = "width:100%;", @rows = "3", @class = "form" })</div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Lien classement</div>
                        <div class="col-xs-8">@Html.TextBoxFor(model => model.Equipe.LienClassement, new { @id = "tbxLienClassement", @style = "width:100%;", @class = "form" }) </div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3 libelleFormulaire" align="right">Ordre (*)</div>
                        <div class="col-xs-8">@Html.TextBoxFor(model => model.Equipe.Ordre, new { @id = "tbxOrdre", @style = "width:15%;", @class = "form" }) </div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3  libelleFormulaire" align="right">Photo</div>
                        <div class="col-xs-6">
                            @Html.TextBoxFor(model => model.Equipe.FilePhoto, new { type = "file", id = "Photo", name = "Photo", @style = "width:95%;", @accept = ".png, .jpg, .jpeg, .GIF" })
                            <label id="DisplayPhoto" style="font-weight:normal">@Model.Equipe.CheminPhoto.Replace(Commons.Const.UploadEquipePath + "/", "")</label>
                        </div>
                        <div class="col-xs-2">
                                <a class="actionButtonDelete" align="right" data_id="Photo" id="DeletePhoto" href="#" style="margin-left:13px;"
                                   onclick="javascript:supprimerFichier(this);">
                                    <img src="../resources/img/cross.png" title="Supprimer le fichier" />
                                </a>
                        </div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3  libelleFormulaire" align="right">Calendrier</div>
                        <div class="col-xs-6">
                            @Html.TextBoxFor(model => model.Equipe.FileCalendrier, new { type = "file", id = "Calendrier", name = "Calendrier", @style = "width:95%;" })
                            <label id="DisplayCalendrier" style="font-weight:normal">@Model.Equipe.CheminCalendrier.Replace(Commons.Const.UploadEquipePath + "/", "")</label>
                        </div>
                        <div class="col-xs-2">
                            <a class="actionButtonDelete" align="right" data_id="Calendrier" id="DeleteCalendrier" href="#" style="margin-left:13px;"
                               onclick="javascript:supprimerFichier(this);">
                                <img src="../resources/img/cross.png" title="Supprimer le fichier" />
                            </a>
                        </div>
                    </div>
                    <div class="col-xs-12 row blocFormulaire">
                        <div class="col-xs-3  libelleFormulaire" align="right">Fiche Entrainement</div>
                        <div class="col-xs-6">
                            @Html.TextBoxFor(model => model.Equipe.FileFicheEntrainement, new { type = "file", id = "FicheEntrainement", name = "FicheEntrainement", @style = "width:95%;" })
                            <label id="DisplayFicheEntrainement" style="font-weight:normal">@Model.Equipe.CheminFicheEntrainement.Replace(Commons.Const.UploadEquipePath + "/", "")</label>
                        </div>
                        <div class="col-xs-2">
                            <a class="actionButtonDelete" align="right" data_id="FicheEntrainement" id="DeleteFicheEntrainement" href="#" style="margin-left:13px;"
                               onclick="javascript:supprimerFichier(this);">
                                <img src="../resources/img/cross.png" title="Supprimer le fichier" />
                            </a>
                        </div>
                    </div>
                    <div class="col-xs-4 col-xs-offset-4 row blocFormulaire" align="center" style="margin-top:35px;margin-bottom:20px;">

                        <button id="btn-submit" class="btn btn-primary" style="margin-right:40px"><span class="glyphicon glyphicon-ok-sign"></span>@Model.LibelleBoutonSauvegarde</button>
                        <button type="button" class="btn btn-default" onclick="fermerModalAdministration();">Retour</button>
                    </div>
            }
        </div>
    </div>
</div>

<script src="@Url.Content("~/Scripts/AdminEquipes.js")"></script>
<script type="text/javascript">
      var model = @Html.Raw(Json.Encode(Model));
     checkIfCreationOK(model.isCreationOK);
     initForm('Administration','Equipe',['Photo', 'Calendrier', 'FicheEntrainement']);
</script>
